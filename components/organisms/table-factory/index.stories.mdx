import { TableFactory } from './index';

import people from 'lib/mocks/people';
import tableData from './mocks/table-data';

<Meta
  title="Organism/TableFactory"
  component={TableFactory}
  args={{
    jsonData: people
  }}
/>

export const Template = (args) => <TableFactory {...args} />;

# Table Factory

<Description of={TableFactory} />

## Explicit structure

You can explicitly define the structure of the table by passing in the
`header` and `rows` props. The `header` prop is a simple array of strings,
where each string is the name of a column. The `rows` prop is an array of
array of strings, where each array is a row of data.

<Canvas withSource="open">
  <Story
    name="Default"
    args={{
      jsonData: undefined,
      header: tableData.headers,
      rows: tableData.rows
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Implicit Structure

You don't have to explicitly define the structure of the table, you can
just pass in an array of objects to the `jsonData` prop, which will automatically
generate the table structure based on the keys of the first object in the array.

<Canvas withSource="open">
  <Story name="Structure Inferred from JSON">{Template.bind({})}</Story>
</Canvas>

## Formatting

### Striped rows

<Canvas withSource="open">
  <Story
    name="Striped"
    args={{
      striped: true,
      jsonData: undefined,
      header: tableData.headers,
      rows: tableData.rows
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### Don't auto-format the header data

<Canvas withSource="open">
  <Story
    name="Unformatted headers"
    args={{
      titleCaseHeaders: false
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### Make the table headers solid

<Canvas withSource="open">
  <Story
    name="Solid headers"
    args={{
      solidHeader: true
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### Don't show the table header

The `hideHeader` prop can be used to hide the table header. This can be useful
if you want to use the table without a header but still want the table to be
filterable (which requires header data).

<Tip type="warning">
  If you hide headers, you will not be able to use sorting.
</Tip>

<Canvas withSource="open">
  <Story
    name="Hidden headers"
    args={{
      hideHeader: true
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### Make the table fill the width of the container

<Canvas withSource="open">
  <Story
    name="Full Width"
    args={{
      fullWidth: true,
      striped: true,
      solidHeader: true
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Sorting

You can sort the table by clicking on the column headers. To enable sorting, you must pass the `sortable` prop to the `TableFactory` component and set the `defaultSortColumn` prop to the column you want to sort (zero indexed).

<Canvas withSource="open">
  <Story
    name="Sortable Table"
    args={{
      solidHeader: true,
      sortable: true,
      striped: true,
      defaultSortColumn: 1
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Filtering

You can filter the table by typing into the search box. To enable filtering, you must pass the `filterable` prop to the `TableFactory` component and set the `defaultFilterColumn` prop to the column you want to filter (zero indexed).

<Canvas withSource="open">
  <Story
    name="Filterable Table"
    args={{
      titleCaseHeaders: false,
      filterable: true,
      defaultFilterColumn: 0
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Props

<ArgsTable of={TableFactory} />
